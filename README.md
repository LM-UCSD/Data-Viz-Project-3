In recent years, the United States has faced a severe and escalating crisis of drug overdose deaths. This visualization provides an interactive look at provisional counts of drug overdose deaths across all 50 states and the District of Columbia from 2015 to 2023, using data from the National Vital Statistics System. It includes specific drug categories such as psychostimulants, synthetic opioids, heroin, methadone, natural and semi-synthetic opioids, and cocaine. Our interactive bar chart allows users to explore the number of overdose deaths by state for each drug category. Using the dropdown menu, viewers can examine how different types of drugs impact various regions, shedding light on the distribution of this national epidemic. Note that there are a few oddities in the dataset, such as a handful of states (Texas, Arizona, among others) that don't start reporting until later years, as well as New York City being reported separately from New York state. There may be reasonable explanations around each state's record-keeping requirements and methods that explain these, but we decided to keep them in the set for completeness.

When deciding on the visualizations, we considered both a choropleth map and a stacked bar chart. Initially, a choropleth map seemed promising for visualizing overdose deaths by state over time. However, we realized it would be challenging to effectively display information for multiple drugs across all states and years. Instead, we chose to create an interactive stacked bar chart, which allows users to view overdose deaths by state and drug type. Additionally, we included a dropdown menu to enable users to select a specific year, making it possible to visualize trends over time.

Some transformations used in the updateChart function include filtering out irrelevant indicators (e.g., "Number of Drugs Specified" and "Percent with drugs specified") and converting the transformed data into an array of objects (transformedData), where each object represents a state. Each key in these objects corresponds to a drug type and its associated overdose death count. This structure supports the creation of a stacked bar chart.

Our project workflow was organized as follows: we split tasks by finding a dataset, establishing a base structure, creating interactive elements, and settling on the best design for the interaction. We each worked approximately 4-6 hours and met regularly to coordinate. First, we selected a culturally relevant dataset, as we have all unfortunately witnessed the rise in drug overdose deaths in the U.S. Luisa laid the groundwork by attempting a choropleth map, but as discussed, it didn’t meet our goals. She aggregated data by year and created an interactive bar chart, adding a dropdown for selecting a specific drug type.

Ann then mapped the bar chart for each year and considered adding a bar chart race, though this feature was eventually removed due to clutter on the page. She implemented data transformations, such as grouping data by state and drug type (Indicator) using d3.rollups. For each group, she calculated the total overdose deaths using d3.sum and structured the result as a nested array (data). Ann also added a year dropdown to complement Luisa’s drug-type dropdown, using unique drug types (drugTypes) and years (years) to populate these menus. Additionally, she documented the project in the README and added it to the html.

Finally, Lauren brought the elements together in the stacked bar chart. She filtered out irrelevant indicators ("Number of Drugs Specified" and "Percent with drugs specified") to simplify the visualization and grouped the data by state, with each key representing a drug type and its respective death count. This setup allowed for easy stacking by drug type within each state. The final chart enables users to select a year via the dropdown menu and view drug overdose data by state over time in a stacked bar chart. Hovering over the chart provides details such as State, Total Deaths between 2015-2023, Drug, and Deaths from the selected year.

Note: we had two different repositories for this project because of permissioning issues with one. 
Preliminary work: https://github.com/Luisajaime94/P3-DV
Final work: https://github.com/LM-UCSD/Data-Viz-Project-3
